{% extends 'base.html' %}

{% block content %}
<h1 class="text-3xl font-bold mb-4">Admin Dashboard</h1>

<!-- Filter and search form -->
<div class="flex items-center space-x-4">
    <form method="get" class="flex">
        <input type="text" name="q" placeholder="Search restaurants..." value="{{ request.GET.q }}" class="border border-gray-300 p-2 rounded-md">
        <button type="submit" class="ml-2 px-4 py-2 bg-blue-500 text-white rounded">Search</button>
    </form>

    <!-- Add a button to add a new restaurant -->
    <a href="{% url 'admin_dashboard_restaurant_create' %}" class="px-4 py-2 bg-green-500 text-white rounded">Add Restaurant</a>
</div>

<!-- Restaurant list -->
<form method="post" action="">
    {% csrf_token %}
    <table class="min-w-full bg-white">
        <thead>
            <tr class="w-full">
                <th class="border p-4 text-left"><input type="checkbox" id="select-all"></th>
                <th class="border p-4 text-left">Name</th>
                <th class="border p-4 text-left">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for restaurant in restaurants %}
            <tr>
                <td class="border p-4"><input type="checkbox" name="restaurant_ids" value="{{ restaurant.id }}"></td>
                <td class="border p-4">
                    <a href="{% url 'admin_dashboard_restaurant_update' restaurant.id %}" class="text-blue-500">{{ restaurant.name }}</a>
                </td>
                <td class="border p-4">
                    <a href="{% url 'admin_dashboard_restaurant_delete' restaurant.id %}" class="text-red-500">Delete</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3" class="text-center p-4">No restaurants found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Add a button to delete selected restaurants -->
    <button type="submit" formaction="{% url 'admin_dashboard_restaurant_batch_delete' %}" class="mt-4 px-4 py-2 bg-red-500 text-white rounded">Delete Selected</button>
</form>

{% endblock %}
