{% extends 'base.html' %}

{% block content %}
<form method="get" action="{% url 'restaurant_list' %}">
    <!-- Your form fields here -->
</form>

<!-- Restaurant list container -->
<div id="restaurant-list-container">
    {% include 'restaurant_list_ajax.html' %}
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    function loadPage(url) {
        fetch(url)
            .then(response => response.text())
            .then(html => {
                document.getElementById('restaurant-list-container').innerHTML = html;
                attachPaginationHandlers();
            })
            .catch(error => console.error('Error loading page:', error));
    }

    function attachPaginationHandlers() {
        document.querySelectorAll('.pagination-link').forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                loadPage(this.href);
            });
        });
    }

    attachPaginationHandlers();
});
</script>
{% endblock %}